# Pacman - Project 2 #


**Q1: Reflex Agent**

Η συνάρτηση δέχεται τρεις κύριες εισόδους: την τρέχουσα κατάσταση του
παιχνιδιού (currentGameState), την προτεινόμενη ενέργεια που πρέπει να γίνει (action) και τη διάδοχη κατάσταση του παιχνιδιού που προκύπτει από την ενέργεια (successorGameState). Από αυτές τις καταστάσεις του παιχνιδιού εξάγονται διάφορες πληροφορίες, όπως η νέα θέση του Pacman (newPos), η διάταξη της εναπομείνασας τροφής
(newFood), οι καταστάσεις των φαντασμάτων (newGhostStates) και οι χρόνοι που μένει φοβισμένο κάθε φαντάσμα (newScaredTimes).
Η συνάρτηση αρχικοποιεί μια μεταβλητή βαθμολογίας στο μηδέν και λαμβάνει υπόψη διάφορους παράγοντες για τον υπολογισμό της τελικής βαθμολογίας. Αυτοί οι παράγοντες περιλαμβάνουν την κατάσταση του παιχνιδιού μετά την ενέργεια (έλεγχος αν ο Pacman κερδίζει), τις αποστάσεις από το φαγητό, τις αποστάσεις από τα φαντάσματα, τον αριθμό
των εναπομεινάντων αντικειμένων φαγητού, τις αλλαγές στο σκορ και τις ποινές για τη διακοπή. Η συνάρτηση έχει ως στόχο να επιβραβεύει συμπεριφορές όπως η κατανάλωση τροφής, η αποφυγή φαντασμάτων και η μεγιστοποίηση του σκορ. Η βαθμολογία προσαρμόζεται με βάση διάφορα σενάρια. Για παράδειγμα, εάν τα φαντάσματα είναι φοβισμένα, η συνάρτηση δίνει προτεραιότητα σε ενέργειες που ελαχιστοποιούν τις αποστάσεις από τα φαντάσματα. Αντίθετα, όταν τα φαντάσματα δεν
φοβούνται, η συνάρτηση τιμωρεί τις ενέργειες που φέρνουν τον Pacman πιο κοντά τους. Επιπλέον, τιμωρεί τις ενέργειες που περιλαμβάνουν στάση (Directions.STOP) και δίνει μπόνους ή ποινές με βάση τις αλλαγές στον αριθμό των φαγητών που έχουν περισσέψει.

**Q2: Minimax**

Ο αλγόριθμος minimax λειτουργεί αναδρομικά με στόχο να εξερευνήσει το δέντρο του παιχνιδιού και να καθορίσει την καλύτερη δυνατή κίνηση για έναν παίκτη, στοχεύοντας βέλτιστο παιχνίδι και από τις δύο πλευρές. Ο Pacman στο παιχνίδι ειναι ο maximizer και τα φαντάσματα οι minimizers.
Η συνάρτηση minimaxDecision λαμβάνει τρεις παραμέτρους: την τρέχουσα κατάσταση του παιχνιδιού (gameState), το τρέχον βάθος στο δέντρο του παιχνιδιού (depth) και τον τρέχοντα παίκτη (agentIndex). Σε τερματικές καταστάσεις καλείται η συνάρτηση evaluationFunction και επιστρέφεται το αποτέλεσμά της. Όταν το agentIndex είναι 0, είναι η σειρά του Pacman, έτσι ο αλγόριθμος επιδιώκει να μεγιστοποιήσει το σκορ επιλέγοντας την ενέργεια που οδηγεί στην υψηλότερη τιμή μεταξύ
των διαδόχων. Όταν το agentIndex δεν είναι 0, τότε είναι η σειρά των φαντασμάτων, έτσι ο αλγόριθμος στοχεύει στην ελαχιστοποίηση της βαθμολογίας. Εάν είναι η σειρά του τελευταίου φαντάσματος, κινείται στο επόμενο βάθος, καλώντας για την επόμενη κίνηση του Pacman. Διαφορετικά, μετακινείται στο επόμενο φάντασμα στη σειρά.
Αρχικοποιούνται μεταβλητές για να παρακολουθείται το τρέχον καλύτερο σκορ (currScore) και το τελικό μέγιστο σκορ (maxScoreAction). Τέλος, επαναλαμβάνει τις ενέργειες για τον Pacman σε επίπεδο ρίζας, υπολογίζει το μέγιστο σκορ και το επιστρέφει.

**Q3: Alpha-Beta Pruning**

Στο συγκεκριμένο ερώτημα χρησιμοπιούμε τον αλγόριθμο minimax με κλάδεμα άλφα-βήτα, μια τεχνική που έχει σχεδιαστεί για να κάνει πιο αποτελεσματική την διαδικασία της αναζήτησης. Ο κώδικας αποτελείται από δύο κύριες συναρτήσεις: maxValue και minValue, που  αντιπροσωπεύουν τις κινήσεις του Pacman (maximizer) και των φαντασμάτων (minimizers) αντίστοιχα. Aυτές οι συναρτήσεις καλούνται αναδρομικά. Η τεχνική κλαδέματος άλφα-βήτα, χρησιμοποιείται και στις δύο συναρτήσεις για να κλαδεύει τα κλαδιά του δέντρου που είναι μη βέλτιστα, μειώνοντας έτσι τον αριθμό των κόμβων που εξετάζονται.Το άλφα αντιπροσωπεύει το καλύτερο σκορ που έχει βρεθεί μέχρι στιγμής για τον Pacman και το βήτα αντιπροσωπεύει το καλύτερο σκορ που έχει βρεθεί μέχρι στιγμής για τα φαντάσματα. Η λογική του κώδικα είναι παρόμοια με αυτή του δεύτερου ρωτήματος.

**Q4: Expectimax**

Ο Expectimax είναι μια παραλλαγή του αλγορίθμου minimax που λαμβάνει υπόψη την αβεβαιότητα που επικρατεί από τους αντιπάλους που λαμβάνουν τυχαίες αποφάσεις. Σε αυτή την περίπτωση, τα φαντάσματα έχουν την απρόβλεπτη συμπεριφορά. Ο κώδικας αποτελείται από δύο αναδρομικές συναρτήσεις: maxValue και expectValue, οι οποίες αντιστοιχούν στον Pacman και στα φαντάσματα. Η πρώτη έχει λογική παρόμοια με του προηγούμενου ερωτήματος, ενώ συνάρτηση expectValue, αποτυπώνει την τυχαία διαδικασία λήψης αποφάσεων του παίκτη που ελαχιστοποιεί, δηλαδή των φαντασμάτων. Υπολογίζει την αναμενόμενη αξία ως το μέσο όρο των τιμών που προκύπτουν από αναδρομικές κλήσεις για κάθε πιθανή ενέργεια, υποθέτοντας ότι τα φαντάσματα κάνουν ομοιόμορφα τυχαίες επιλογές.

**Q5: Evaluation Function**

Ο κώδικας ορίζει μια συνάρτηση αξιολόγησης, την betterEvaluationFunction, η οποία έχει σχεδιαστεί για να βελτιώσει τη λήψη αποφάσεων στο παιχνίδι. Πρώτον, η συνάρτηση εξάγει βασικές πληροφορίες από την τρέχουσα κατάσταση του παιχνιδιού, όπως η θέση του Pacman, η διάταξη των τροφίμων που απομένουν και των καταστάσεων των φαντασμάτων. Υπολογίζει τις αποστάσεις Manhattan από τον Pacman σε
κάθε τρόφιμο που έχει περισσέψει και σε κάθε φάντασμα, χρησιμοποιώντας αυτές τις αποστάσεις ως μετρήσεις για τη λήψη αποφάσεων. Στη συνέχεια, η συνάρτηση λαμβάνει υπόψη την παρουσία καψουλών ενέργειας και τον αριθμό των εναπομεινάντων καψουλών.
Η τελική βαθμολογία προκύπτει απ’ τον συνδιασμό πολλών συνιστωσών, περιλαμβάνοντας το τρέχον σκορ του παιχνιδιού. Επιπλέον, η συνάρτηση ενσωματώνει το αντίστροφο του αθροίσματος των αποστάσεων των φαγητών, τονίζοντας έτσι την σημασία της κατανάλωσης κοντινών φαγητών. Η καταμέτρηση των φαγητών που έχουν περισσέψει λαμβάνεται επίσης υπόψη στο σκορ, γιατί στόχος του Pacman είναι να καταναλώσει όσο το δυνατόν περισσότερο φαγητό.Η συνάρτηση αυτή προσαρμόζει, επίσης, τη βαθμολογία της με βάση την κατάσταση των φαντασμάτων. Εάν απομένει χρόνος όπου τα φαντάσματα είναι φοβισμένα η συνάρτηση αυξάνει τη βαθμολογία κατά το άθροισμα των χρόνων φόβου, ενώ εφαρμόζει ποινές για τον αριθμό των καψουλών ενέργειας και το άθροισμα των αποστάσεων των φαντασμάτων. Από την άλλη πλευρά, εάν δεν απομένει χρόνος που τα φαντάσματα είναι φοβισμένα, η συνάρτηση αυξάνει τη βαθμολογία κατά το άθροισμα των αποστάσεων των φαντασμάτων και παρέχει μπόνους για τον αριθμό των καψουλών ενέργειας.